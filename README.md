# BookMarket

> 吉林大学软构件与中间件期末课程作业

基于JavaEE架构（JBoss7）和Quasar框架，已完成：会话Bean、消息驱动Bean和JMS、Servlet、JPA，未完成WebService。

数据表在config.md中。

*这都1202年了怎么还有人用JBoss7和JDK7？*

-----

## 题目设计实现基于 JavaEE 架构的在线图书选购系统。

### [实验目的] 

使学生们熟练掌握使用 JavaEE 架构进行系统开发的全过程。

### [实验内容及要求] 

内容：

在线图书选购系统的主要功能是让管理员能够在线对图书进行添加；普通用户可以浏览图书并进行选购和下单操作。具体功能如下：

  1. 管理员用户在系统开发时，直接录入数据库中。普通用户在注册页面进行注册。
  2. 登录功能：管理员和普通用户通过在网页上输入用户名和密码进行登录。系统所有的功能，只有登录成功后才能使用，管理员和普通用户登陆后的页面功能不同。
  3. 图书添加功能(要求必须用到有状态会话 Bean)：管理员在登录成功后，能够在网页上对需要新增的图书进行添加。为了降低数据库访问频率，在录入多本图书时，要求多本图书都录入完毕后，统一提交数据库保存。在多本图书的录入过程中可以随时查看和修改已录入的图书信息。图书信息包括：图书名称、图书书号、作者、出版时间、价格、类别、数量。
  4. 在录入时需要对图书书号进行验证和格式化(要求使用 WebService)：编写一个WebService 服务，用户向 WebService 服务接口发送图书书号(13 位数字9787534341342)，WebService 服务返回书号是否正确以及格式化后的书号(如ISBN 978-7-5343-4134-2)。（书号验证和格式化方法见附一）
  5. 图书查询功能(要求必须用到无状态会话 Bean)：管理员和普通用户在登录成功后，能够根据图书名称、书号、作者、出版时间范围、价格范围、类别对已录入的图书进行查询，查询结果在网页上进行显示。
  6. 图书选购功能：普通用户在第 5）步的查询结果中选择想要选购的图书，添加到购物车中。普通用户可以分别浏览和查询不同类别、价格范围、出版年份的书籍，并添加到购物车中。
  7. 图书下单功能：在图书选购完毕后，对购物车中的图书进行统一下单操作，在页面上输入配送地址、配送时间、收件人姓名、电话，并确认下单。(关于付款采用货到付款的形式，不用考虑支付问题)。确认下单后，订单保存到数据库中。同时图书的数量也要相应的减少。
  8. 图书订单输出功能：对于步骤 7）中确认下单的订单，通过 JMS 和 MDB 进行异步的文件输出，将订单信息写入到磁盘文件中（对订单打印功能的模拟）。
  9. 用户和管理员可以查询订单，用户只能查询自己的订单；管理员可以根据图书查询订单。

技术要求：

1. 页面使用 JSP 或者 HTML 开发，逻辑控制器使用 Servlet。
2. 图书查询功能使用无状态会话 Bean。3、 图书添加、图书选购功能使用有状态会话 Bean。
4. 图书订单输出功能使用消息驱动 Bean。
5. 用户、图书、订单的数据库增删改查使用 JPA。(多对多) 
